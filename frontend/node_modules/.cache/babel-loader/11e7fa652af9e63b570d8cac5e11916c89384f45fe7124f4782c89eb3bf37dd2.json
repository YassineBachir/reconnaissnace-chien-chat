{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const FileUpload=()=>{const[file,setFile]=useState(null);const[result,setResult]=useState(null);const[isDragging,setIsDragging]=useState(false);const API_URL=\"https:/reconnaissnace-chien-chat.onrender.com/predict\";// √† adapter selon Render\nconst handleDragEnter=e=>{e.preventDefault();setIsDragging(true);};const handleDragLeave=e=>{e.preventDefault();setIsDragging(false);};const handleDrop=e=>{e.preventDefault();setIsDragging(false);setFile(e.dataTransfer.files[0]);};const handleFileChange=e=>{setFile(e.target.files[0]);};const handleSubmit=async e=>{e.preventDefault();const formData=new FormData();formData.append('image',file);try{const response=await axios.post(API_URL,formData);setResult(response.data);}catch(error){console.error('Erreur:',error);}};const handleReset=()=>{setFile(null);setResult(null);};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-yellow-200 via-pink-200 to-purple-300 p-4 font-comic\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-extrabold text-center text-pink-600 mb-6 animate-bounce\",children:\"\\uD83D\\uDC3E Chat \\uD83D\\uDC31 ou Chien\\uD83D\\uDC36 ? \\uD83D\\uDC3E\"}),/*#__PURE__*/_jsx(\"div\",{className:`w-full max-w-md rounded-xl border-4 border-dashed ${isDragging?'border-blue-400 bg-blue-100 animate-pulse':'border-pink-300 bg-white'} p-6 transition duration-300 ease-in-out`,onDragOver:e=>e.preventDefault(),onDragEnter:handleDragEnter,onDragLeave:handleDragLeave,onDrop:handleDrop,children:file?/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center\",children:[/*#__PURE__*/_jsx(\"img\",{src:URL.createObjectURL(file),alt:\"Aper\\xE7u\",className:\"rounded-lg w-64 h-64 object-cover mb-4 shadow-lg animate-fade-in\"}),!result&&/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,className:\"bg-gradient-to-r from-pink-400 via-purple-400 to-yellow-300 text-white font-bold py-2 px-4 rounded-full shadow-md hover:scale-105 transition transform duration-300\",children:\"\\uD83D\\uDE80 Devine qui c'est !\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center space-y-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-lg text-gray-700 font-semibold\",children:\"Glisse une image ici ou\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:handleFileChange,accept:\"image/*\",className:\"bg-white p-2 rounded-lg shadow-md cursor-pointer\"})]})}),result&&/*#__PURE__*/_jsxs(\"div\",{className:`mt-6 p-6 rounded-xl shadow-xl text-center transition-all duration-500 transform hover:scale-105 ${result.prediction==='Chat'?'bg-pink-200 text-pink-700':'bg-yellow-200 text-yellow-700'}`,children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-extrabold mb-2 animate-pulse\",children:result.prediction==='Chat'?'üò∏ Miaou, un chat !':'üê∂ Ouaf, un chien !'}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-lg font-medium\",children:[\"Confiance : \",(result.confidence*100).toFixed(2),\"%\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-5xl mt-4 animate-bounce\",children:result.prediction==='Chat'?'üêà‚ú®':'üêïüí´'}),/*#__PURE__*/_jsx(\"button\",{onClick:handleReset,className:\"mt-6 bg-gradient-to-r from-purple-400 via-pink-500 to-red-500 text-white font-bold py-2 px-6 rounded-full shadow-md hover:scale-105 transition transform duration-300\",children:\"\\uD83D\\uDD19 Retour \\xE0 l'accueil\"})]})]});};export default FileUpload;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","FileUpload","file","setFile","result","setResult","isDragging","setIsDragging","API_URL","handleDragEnter","e","preventDefault","handleDragLeave","handleDrop","dataTransfer","files","handleFileChange","target","handleSubmit","formData","FormData","append","response","post","data","error","console","handleReset","className","children","onDragOver","onDragEnter","onDragLeave","onDrop","src","URL","createObjectURL","alt","onClick","type","onChange","accept","prediction","confidence","toFixed"],"sources":["C:/Master/SEMESTRE3/Deep_learning/Reconnaissance-chien-chat/frontend/src/components/FileUpload.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst FileUpload = () => {\r\n  const [file, setFile] = useState(null);\r\n  const [result, setResult] = useState(null);\r\n  const [isDragging, setIsDragging] = useState(false);\r\n  const API_URL = \"https:/reconnaissnace-chien-chat.onrender.com/predict\"; // √† adapter selon Render\r\n\r\n  const handleDragEnter = (e) => {\r\n    e.preventDefault();\r\n    setIsDragging(true);\r\n  };\r\n\r\n  const handleDragLeave = (e) => {\r\n    e.preventDefault();\r\n    setIsDragging(false);\r\n  };\r\n\r\n  const handleDrop = (e) => {\r\n    e.preventDefault();\r\n    setIsDragging(false);\r\n    setFile(e.dataTransfer.files[0]);\r\n  };\r\n\r\n  const handleFileChange = (e) => {\r\n    setFile(e.target.files[0]);\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const formData = new FormData();\r\n    formData.append('image', file);\r\n\r\n    try {\r\n      const response = await axios.post(API_URL, formData);\r\n      setResult(response.data);\r\n    } catch (error) {\r\n      console.error('Erreur:', error);\r\n    }\r\n  };\r\n  const handleReset = () => {\r\n    setFile(null);\r\n    setResult(null);\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-yellow-200 via-pink-200 to-purple-300 p-4 font-comic\">\r\n      <h1 className=\"text-4xl font-extrabold text-center text-pink-600 mb-6 animate-bounce\">üêæ Chat üê± ou Chienüê∂ ? üêæ</h1>\r\n\r\n      <div\r\n        className={`w-full max-w-md rounded-xl border-4 border-dashed ${\r\n          isDragging ? 'border-blue-400 bg-blue-100 animate-pulse' : 'border-pink-300 bg-white'\r\n        } p-6 transition duration-300 ease-in-out`}\r\n        onDragOver={(e) => e.preventDefault()}\r\n        onDragEnter={handleDragEnter}\r\n        onDragLeave={handleDragLeave}\r\n        onDrop={handleDrop}\r\n      >\r\n        {file ? (\r\n          <div className=\"flex flex-col items-center\">\r\n            <img\r\n              src={URL.createObjectURL(file)}\r\n              alt=\"Aper√ßu\"\r\n              className=\"rounded-lg w-64 h-64 object-cover mb-4 shadow-lg animate-fade-in\"\r\n            />\r\n            {!result && (\r\n              <button\r\n                onClick={handleSubmit}\r\n                className=\"bg-gradient-to-r from-pink-400 via-purple-400 to-yellow-300 text-white font-bold py-2 px-4 rounded-full shadow-md hover:scale-105 transition transform duration-300\"\r\n              >\r\n                üöÄ Devine qui c'est !\r\n              </button>\r\n            )}\r\n          </div>\r\n        ) : (\r\n          <div className=\"flex flex-col items-center space-y-4\">\r\n            <p className=\"text-lg text-gray-700 font-semibold\">Glisse une image ici ou</p>\r\n            <input\r\n              type=\"file\"\r\n              onChange={handleFileChange}\r\n              accept=\"image/*\"\r\n              className=\"bg-white p-2 rounded-lg shadow-md cursor-pointer\"\r\n            />\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {result && (\r\n        <div\r\n          className={`mt-6 p-6 rounded-xl shadow-xl text-center transition-all duration-500 transform hover:scale-105 ${\r\n            result.prediction === 'Chat' ? 'bg-pink-200 text-pink-700' : 'bg-yellow-200 text-yellow-700'\r\n          }`}\r\n        >\r\n          <h2 className=\"text-3xl font-extrabold mb-2 animate-pulse\">\r\n            {result.prediction === 'Chat' ? 'üò∏ Miaou, un chat !' : 'üê∂ Ouaf, un chien !'}\r\n          </h2>\r\n          <p className=\"text-lg font-medium\">Confiance : {(result.confidence * 100).toFixed(2)}%</p>\r\n          <div className=\"text-5xl mt-4 animate-bounce\">\r\n            {result.prediction === 'Chat' ? 'üêà‚ú®' : 'üêïüí´'}\r\n          </div>\r\n\r\n          {/* Bouton retour √† l'accueil */}\r\n          <button\r\n            onClick={handleReset}\r\n            className=\"mt-6 bg-gradient-to-r from-purple-400 via-pink-500 to-red-500 text-white font-bold py-2 px-6 rounded-full shadow-md hover:scale-105 transition transform duration-300\"\r\n          >\r\n            üîô Retour √† l'accueil\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FileUpload;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}